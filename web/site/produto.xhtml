<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="../resources/js/bootstrap-modal.js"></script>

    </h:head>
    <body>
        <ui:composition>
            <div class="panel panel-default">
                <div class="panel-heading">Produtos disponiveis</div>

                <h:dataTable id="tabela" class="table table-bordered table-hover" value="#{tecnoController.products}" var="item">

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Marca"/>
                        </f:facet>
                        <h:commandLink  value="#{item.brand}" />
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Modelo"/>
                        </f:facet>
                        <h:commandLink  value="#{item.model}"/>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Stock"/>
                        </f:facet>
                        <h:commandLink  value="#{item.quantity}"/>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Preco"/>
                        </f:facet>
                        <h:commandLink  value="#{item.price}"  action="#{tecnoController.gerarInfo(item)}"/>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Encomendar/Info"/>
                        </f:facet>
                        <h:commandLink  class="glyphicon glyphicon-plus-sign" onclick="if (!confirm('Encomendar #{item.brand}?'))
                                    return false" action="#{sessaoController.insert(item)}"/>
                        <h:commandLink  class="glyphicon glyphicon-info-sign" action="#{tecnoController.gerarInfo(item)}">
                        </h:commandLink>

                    </h:column>



                </h:dataTable>
            </div>
        </ui:composition>
    </body>
</html>

